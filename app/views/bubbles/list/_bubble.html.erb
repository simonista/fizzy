<li class="flex align-center gap margin-none" style="--bubble-color: <%= bubble.color %>; <%= bubble_rotation(bubble) %>">
  <div class="bubble">
    <svg class="bubble__svg" style="fill: <%= bubble.color %>; stroke: <%= bubble.color %>;" viewBox="0 0 990 990" xmlns="http://www.w3.org/2000/svg">
      <path d="m0 0h990v990h-990z" fill="none" stroke="none" />
      <path d="m391.65 879.47c-110.52-15.95-212.21-91.86-255.92-191.23-66.78-143.65-41.62-347.61 48.08-481.17 368.33-516.3 1252.97 520.2 451.03 660.78-44.07 8.84-88.98 13.49-133.01 15.68-36.69 2-73.37 1.91-109.99-4.03z"/>
    </svg>
  </div>

  <%= link_to bucket_bubble_path(bubble.bucket, bubble), class: "bubble__title-link flex align-center gap flex-item-grow min-width" do %>
    <strong class="bubble__title-text flex--inline gap-half overflow-ellipsis"><%= bubble.title %></strong>
  <% end %>

  <% if bubble.due_on.present? %>
    <time class="txt-nowrap txt-small fill-black txt-reversed border-radius" style="background-color: <%= bubble.color %>; padding: 0.4em 1em;">
      <strong>DUE:</strong> <%= bubble.due_on.strftime("%b %d") %>
    </time>
  <% end %>

  <div class="flex align-center gap flex-item-no-shrink">
    <% bubble.assignees.each do |assignee| %>
      <span class="txt-small"><%= avatar_tag assignee, loading: :lazy %></span>
    <% end %>
  </div>

  <small class="flex align-center gap flex-item-no-shrink">
    <% bubble.tags.each do |tag| %>
      <%= link_to "##{tag.title}", bucket_bubbles_path(bubble.bucket, tag_id: tag.id), style: "color: #{bubble.color}" %>
    <% end %>

    <%= tag.time bubble.created_at, class: "txt-nowrap flex-item-justify-end" do %>
      <%= bubble.created_at.strftime("%b %d") %>
    <% end %>
  </small>
</li>
